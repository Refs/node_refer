
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">


    <title>Jumbotron Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" tppabs="http://v3.bootcss.com/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/jumbotron.css" tppabs="http://v3.bootcss.com/examples/jumbotron/jumbotron.css" rel="stylesheet">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="html5shiv.js" tppabs="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="respond.min.js" tppabs="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">
        #success,#failed,#cashed{
            display:none
        }
    </style>
  </head>

  <body>

    <%- include("./header.ejs",{"active":"注册"})%>

 

    <div class="container">
      <!-- Example row of columns -->
         <div class="row">
          
            <form role="form" class="col-md-6">
                <h1>欢迎注册</h1>                
                <div class="form-group">
                    <label for="username">用户名</label>
                    <input type="text" class="form-control" id="username" placeholder="用户名，且用户名不可以重复">
                </div>
                <div class="form-group">
                    <label for="mima">Password</label>
                    <input type="password" class="form-control" id="password" placeholder="密码至少六位">
                </div>
               
                <div class="checkbox">
                    <label>
                        <input type="checkbox"> 我同意注册规定
                    </label>
                </div>
                <button type="button" class="btn btn-default" id="zhuce">注册</button>

                <div class="row" id="success"> 
                    <div class="alert alert-success col-md-6" role="alert" >
                        <a href="#" class="alert-link">注册成功</a>
                    </div>
                </div>
                <div class="row" id="cashed"> 
                    <div class="alert alert-success col-md-6" role="alert" >
                        <a href="#" class="alert-link">系统错误</a>
                    </div>
                </div>
                <div class="row" id="failed">
                    <div class="alert alert-danger col-md-6" role="alert">
                        <a href="#" class="alert-link">该用户名已存在</a>
                    </div>
                </div>
                
            </form>
        </div>
    </div>

      <hr>

      <footer>
        <p>&copy; Company 2014</p>
      </footer>
    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/js/jquery-3.1.1.js" tppabs="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js" tppabs="http://v3.bootcss.com/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript">
         $("input").focus(function(){
             $("#failed").fadeOut();
         })
            
         $("#zhuce").click(function(){
             $.post("/doregist",{"username":$("#username").val(),"password":$("#password").val()},function(result){
                 console.log(result.result);
                 if(result.result == "-1"){
                     $("#failed").fadeIn();
                 };
                 if(result.result == "1"){
                     alert("注册成功，浏览器将自动跳转到首页");
                     window.location = "/";
                 }
                 if(result.result == "-3"){
                     $("#cashed").fadeIn();
                 }
                 
             })
         })
    </script>
  </body>
</html>